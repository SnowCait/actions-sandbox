name: JSON

on:
  push:
    paths:
      - .github/workflows/json.yml
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-20.04

    steps:
      - run: cat $GITHUB_EVENT_PATH
      - id: event
        run: echo "::set-output name=json::$(cat $GITHUB_EVENT_PATH)"
      - name: Only first line...
        run: echo $JSON
        env:
          JSON: ${{ steps.event.outputs.json }}
      - name: Replace newline character
      - name: Use GITHUB_ENV
      - name: Original
        run: echo $JSON
        env:
          JSON: ${{ toJSON(github.event) }}
